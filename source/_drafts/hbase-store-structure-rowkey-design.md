---
layout: drafts
title: HBase 存储结构和 RowKey 设计
date: 2017-04-04 22:09:10
comments: true
ads: true
categories: [大数据,HBase]
tags: [大数据,HBase]
---

我所在的项目是一个电信网管系统，主要业务是基于电信基站上报话务单据来统计各种指标，来帮助电信运营商了解网络状况并指导网优工作。前两年，系统由原来基于 Akka Actor 的分布式计算系统迁移到了 Spark + Hadoop 所构建的大数据平台。虽然系统在水平扩展性，数据容量方面有了很大提升，但在稳定性和实时性上仍然饱受客户诟病。今年首要的重点工作就是补齐系统这两方面的能力。

## 现状

系统内部用 Spark 做网络相关统计指标的计算，并给客户呈现报表。报表是由相应的指标度量加上业务类型，客户，网关等多个维度组成。对于整个系统来说，一个比较大的问题是维度太多，可能的维度组合也更加多。现在每增加一个报表就需要新增代码，同时汇总任务也需要新增，不同的汇总任务之间容易出现重复运算不说也给系统的扩展性带来了灾难。

// TODO 贴上流程图
